<!DOCTYPE html>
<html>
  <head>
    <title>Chrome extension stats</title>
    <meta charset="utf-8" />
    <!-- Our own style sheet -->
    <link href="/App/css/default-popup.css" rel="stylesheet" />
    <!-- BootStrap style sheet -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- External fonts -->
  </head>

  <!-- Navigation bar -->
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" id="home-nav-btn" href="#">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-house"
            viewBox="0 0 16 16"
            style="font-size: 2rem; color: cornflowerblue"
          >
            <path
              fill-rule="evenodd"
              d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"
            />
            <path
              fill-rule="evenodd"
              d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"
            />
          </svg>
          Home
        </a>

        <a class="navbar-brand" id="visualiser-nav-btn" href="#">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-pie-chart-fill"
            viewBox="0 0 16 16"
            style="font-size: 2rem; color: cornflowerblue"
          >
            >
            <path
              d="M15.985 8.5H8.207l-5.5 5.5a8 8 0 0 0 13.277-5.5zM2 13.292A8 8 0 0 1 7.5.015v7.778l-5.5 5.5zM8.5.015V7.5h7.485A8.001 8.001 0 0 0 8.5.015z"
            />
          </svg>
          Visualiser
        </a>
      </div>
    </nav>
  </body>

  
  <!-- Home screen, i.e upload csv file for total downloads -->
  <div class="container-fluid" id="home-container">
    <div id="Total-installs-button-header">Chrome Extension total installs</div>
    <div id="Total-installs-container">
      <img
        src="/App/assets/icons/logo128.svg"
        width="200"
        height="200"
        alt="logo"
        id="logo-behind"
      />
      <input
        type="file"
        accept=".csv"
        id="install-csv-upload"
        style="display: none"
      />
      <div id="Total-installs-button">UPLOAD CSV</div>
    </div>
    <!-- These lines are for animating the logo -->
    <div id="calculated-total-container">
      <div class="line line1"></div>
      <div class="line line2"></div>
      <div class="line line3"></div>
      <div class="line line4"></div>
      <div class="line line5"></div>
      <div class="line line6"></div>
    </div>
  </div>
  <!-- Visualiser container -->
  <div class="container-fluid" id="visualiser-container" style="display: none">
    <div>
      <canvas id="myChart" width="100%" height="400px"></canvas>
    </div>
    <div class="d-grid gap-2">
      <button
        class="btn btn-outline-primary"
        id="csv-installs-button-click"
        type="button"
      >
        Upload csv no. Installs
      </button>

      <div class="input-group">
        <input type="file" accept=".csv" class="form-control" id="installations-file" >
        <!-- aria-describedby="inputGroupFileAddon04" aria-label="Upload" -->
        <button class="btn btn-outline-secondary" type="button" id="submit-installations">
          Visualise
        </button>
      </div>

      <button class="btn btn-outline-primary" id="csv-countries-button-click" type="button" >
        Upload csv All Countries
      </button>


      
      <div class="input-group">
        <input type="file" accept=".csv" class="form-control" id="countries-file" >
        <!-- aria-describedby="inputGroupFileAddon04" aria-label="Upload" --><!-- aria-describedby="inputGroupFileAddon04" aria-label="Upload" -->
        <button class="btn btn-outline-secondary" type="button" id="submit-countries" >
          Visualise
        </button>
      </div>
      <div id="chartDiv" style="width:50%; height:300px; margin:0 auto;"></div>
      
      
    </div>
  </div>
  <!-- Alerts -->
  <div class="alert" id="alert" role="alert" style="opacity: 0"></div>

  <!-- JavaScript 
    We keep our js down here because if we put it in the header, the scripts
    will load before the rest of the documents will and hence won't be able
    to getElementById for example, as that element will not exist yet.
  -->
  <script type="module" src="/App/javascript/default-popup.js"></script>
  <script type="module" src="/App/javascript/csv-parse.js"></script>
  <!-- Chart js -->
  <script src="../../node_modules/chart.js/dist/chart.js"></script>
  <script src="/App/javascript/charts/visualiser.js"></script>
</html>
